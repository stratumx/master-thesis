\chapter{Исследование управляющих систем и обоснование необходимости переосмысления парадигмы управления}
\section{Эпохи развития промышленности}

Прежде, чем говорить об Индустрии 4.0, нужно заключить, что имеющая место в наши дни промышленная революция является \textit{четвёртой}. Это значит, что уже как минимум три раза человечество полностью перекраивало само понятие промышленной деятельности. Из исторических источников известно, что первая промышленная революция случилась на~рубеже XVIII и XIX веков в Великобритании, Франции и США. Связана она была, в первую очередь, с повсеместным внедрением станков и паровых двигателей, а предпосылками к образованию промышленных предприятий стали развитие торговли, финансовых рынков и экономики. Данный период получил название индустриализации.

Вторая промышленная революция растянулась на вторую половину XIX века и ознаменовалась мощным развитием науки и техники. В ней сохранялась направленность на научные достижения того времени, в частности, электрических приборов или нефтяной энергетики, а развитие путей сообщения существенно облегчило доставку товара до места реализации и эксплуатации, что способствовало повышению покупательского спроса. Внедрение новых источников энергии, более точных станков, новых видов получения конструкционных материалов и других новшеств, безусловно, повысили эффективность производства, что не могло не сказаться на конечной цене товара для потребителя.

Сейчас производство опирается на результаты третьей промышленной революции, началом которой принято считать инновационные изменения, проведённые Генри Фордом\footnote{Форд, Г\'енри (Henry Ford) (1863 -- 1947) -- американский изобретатель и промышленник.} во время организации им производства автомобилей. Принято считать, что он является изобретателем конвейера, однако в реальности изменения, проведённые им по части организации производства, реализации и обслуживания товара, куда обширнее. В своих мемуарах он писал: <<Не проходит недели, чтобы не появилось какого-нибудь улучшения в машинах или процессах производства, иногда даже противоречащего принятым в стране лучшим производственным методам>>~\cite{hford}.

Все изыскания, проводившиеся Фордом в 1913--1915 гг., были направлены на совершенствование производственных линий и максимально возможную экономию сил и ресурсов. Так, большинство рабочих на линии практически не перемещались по территории цеха и выполняли одну или несколько конкретных операций, что позволяло сократить время на обучение сотрудников, а <<все действия, которые можно было автоматизировать, автоматизировались>>. Фактически в это время были заложены основы массового производства.

До сих пор все инновации, внедряемые в промышленность, являлись в~той~или~иной степени развитием идей Форда по автоматизации наиболее возможного числа операций в техпроцессе. Приоритетной задачей большинства научно-исследовательских работ по теме организации производственных процессов была направленность именно на массовое производство, поскольку оно занимало главенствующюю роль в экономике каждого развитого госудатсва. Этот приоритет не изменился и с приходом на рынок вычислительных машин, на~которые переложили сложные расчётные операции. Удешевление со временем технических средств привело к увеличению доли автоматизации всех областей производства, от проектирования изделия до закупочных мероприятий.

Появление вычислительных средств, первых языков программирования и потребность в автоматизации процессов в 50-х годах XX века привело к созданию станков с ЧПУ, которые продолжают развиваться во многих аспектах по сей день. Как уже было сказано, внедрение подобного оборудования в производственную линию отвечает в первую очередь двум критериям: увеличению темпов массового производства и снижению стоимости операций, проводимых над~заготовкой. Использование программируемого оборудования разумно в случаях, когда необходимо выполнять ряд однотипных операций, но если речь идёт о более широкопрофильном производстве, то приходится либо покупать новые станки под другие типы производственных операций, либо перекладывать часть работ на неавтоматизированное оборудование, что может негативно сказаться на темпах выпуска продукции, его качестве и стоимости. Несмотря на то, что развитие станков с ЧПУ идёт в направлении повышения точности и универсальности, это одновременно приводит к удорожанию оборудования и к более строгим требованиям к оператору.

За последние 20 лет появилось большое количество сложных автоматизированных систем, затрагивающих весь жизненный цикл выпускаемого изделия. Зачастую системы существуют в виде программных пакетов, и владельцы промышленных предприятий при приобретении могут выбирать нужный им функционал. Существуют как системы автоматизированного проектирования изделия\,(например, системы Cimatron или 3D~Expirience от Dassault Systemes), так и системы управления ресурсами предприятия\,(ERP), производственными процессами\,(MES), заказами\,(SSM), поставками\,(SCM), агрегированием данных оборудования\,(SCADA) и документооборотом\,(PLM). Они являются достаточно гибкими, чтобы удовлетворять потребности больших предприятий, но расчитаны на долгий срок функционирования по устоявшимся производственным процессам~\cite{mesexpl}.

\section{Анализ проблем существующих интеллектуальных систем}

Каким бы совершенным ни было выпускающееся сейчас оборудование с ЧПУ, во избежание рисков, ошибок и просто вследствие коммерческой тайны их архитектура остаётся закрытой. Станки являются сложными и производительными системами с огромным набором инструментальных средств и поэтому хорошо подходят для развитых предприятий, выпускающих большое количество типизированных массовых изделий. Однако для организации единичного или малого производства приобретение такого станка будет являться нерентабельным, его окупаемость может занять долгие годы, а переналадка производственных линий будет сложным и утомительным процессом.

В связи с тем, что за последние годы небольшие производства, работающие по индивидуальным заказам и поэтому вынужденные переналаживать производственные линии в соответствии с желанием заказчика, стали появляться всё чаще, то появился уверенный спрос на недорогие и~открытые решения в области интеллектуальных систем. Применяемые при массовом производстве системы управления в этих обстоятельствах теряют свою актуальность, поскольку характеризуются следующими свойствами:

\begin{itemize}
\item[$-$] проприетарное исполнение внутренних интерфейсов, их логика зачастую скрыта от потребителя и переналадка таких систем для условий, отличающихся от заданных при производстве, невозможна;
\item[$-$] стандартизированные контроллеры приводов станка, что уменьшает спектр используемого оборудования;
\item[$-$] стандартизированный набор управляющих команд, из-за чего среда написания программ становится менее гибкой и универсальной;
\item[$-$] выполнение операций в соответствии с загруженной управляющей программой;
\item[$-$] структура подчинения модулей типа «звезда» (централизованная система управления, как показано на рис. \ref{fig:cnc_central}), при выходе из строя центрального управляющего модуля система становится непригодной для использования.
\end{itemize}

\begin{figure}[t]
	\centering
	\includegraphics[width=\linewidth]{cnc_central.png}
	\caption{Пример централизованной архитектуры станка}
	\label{fig:cnc_central}
\end{figure}

Обобщая всё перечисленное, можно заметить, что применяемые системы управления ограничены в своей функциональности, поэтому встраивание оборудования в автоматизированную сеть предприятия не имеет преимуществ. Станок будет лишь исполнителем, но никак не интеллектуальной системой. Варианты использования возможностей локальных вычислительных сетей\,(ЛВС) скудны и~заключаются лишь в передаче управляющей программы и формировании отчётов по завершении обработки, полноценный контроль за выполнением управляющих программ отсутствует, а оценить появившуюся критическую ситуацию порой невозможно. Существует ряд мер по повышению степени автоматизации промышленного оборудования, к которым, например, можно отнести:

\begin{itemize}
\item[$-$] принятие решения о смене режима обработки;
\item[$-$] внедрение системы технического зрения;
\item[$-$] отслеживание положения заготовки;
\item[$-$] корректировка положения заготовки и инструмента;
\item[$-$] расширение возможностей управления через web-интерфейс.
\end{itemize}

Но необходимо понимать, что для внедрения этих мер в существующие системы управления, последние должны обладать другой архитектурой, в~которой базовая часть системы управления определена как распределённая вычислительная сеть с диспетчеризацией компонентов. Интеллектуальный агент, как часть распределённой сети, должен представлять собой независимую компьютерную систему, находящуюся в некоторой среде и~способную автономно действовать в ней для достижения поставленных целей. Каждое новое оборудование необходимо рассматривать с точки зрения возможности включения его в единую информационно-телекоммуникационную среду с использование открытого протокола.

Таким образом, резюмируя сказанное выше, можно отметить, что разрабатываемое интеллектуальное оборудование должно отвечать следующему ряду критериев:

\begin{enumerate}
\item \textbf{Мобильность} -- способность сохранять функционал в любых условиях работы, а также возможность быстрого развёртывания системы там, где это необходимо;
\item \textbf{Гибкость} -- важное качество, определяющее способность к быстрому перепрофилированию производственной линии на выпуск новой продукции.
\item \textbf{Масштабируемость} -- способность внедрять новые компоненты для получения новых функций или поддержки имеющихся.
\item \textbf{Интероперабельность} -- возможность коммуникации с другими продуктами и устройствами с открытыми интерфейсами без ограничений доступа.
\item \textbf{Низкая стоимость} -- ещё один определяющий фактор для рынка небольших предприятий, не располагающих обширными денежными ресурсами.
\item \textbf{Простота обслуживания} -- в случае, когда малые предприятия не~могут позволить себе нанимать высококвалифицированный персонал или вкладываться в долгосрочное обучение сотрудников.
\end{enumerate}

\section{Обзор исследовательских работ в области открытых систем}

Разумеется, проблема открытой архитектуры в последние годы является основой для проведения научно-исследовательских работ многими известными университетами мира. Разработки ведутся как в методологическом плане, так и более прикладные, вроде создания специализированного ПО для выполнения конкретных задач. 

К примеру, ещё в 2007 году коллектив технологического университета в городе Харбин, Китай, опубликовали исследовательскую работу по~проблемам модульной архитектуры станков с ЧПУ~\cite{herbin2007}. Цель их исследования -- разработка открытой архитектуры систем ЧПУ на персональном компьютере в соответствии с открытой модульной архитектурой контроллеров. В процессе разработки широко применялись методы статического моделирования открытой архитектуры управления, исследовалось динамическое поведение контроллеров и представление потока данных в системе. В качестве результата работы представлен испытательный трёхкоординатный стенд под названием HIT-CNC.

Другая, более современная работа, выполненная университетом в Малайзии (University Tun Huseein Onn Malaysia), описывает создание интепретирующего программного обеспечения для оборудования с ЧПУ с открытой архитектурой~\cite{yusof2015}. Оно разрабатывалось в среде LabVIEW\footnote{Laboratory Virtual Instrument Engineering Workbench.} с целью приведения команд в кодах ISO в соответствие с внутренней структурой станков с ЧПУ. В статье рассматривается модульная структура расрабатываемого интерпретатора, а также вопросы получения и представления данных в системах управления.

Авторы Джордж Корреа, Николас Тумбс и Пласид Феррейра (Jorge Correa, Nicolas Toombs, Placid M. Ferreira) опубликовали в рамках Международного Инженерного Конгресса 2016 года (ASME 2016 International Mechanical Engineering Congress and Exposition) описание архитектуры систем управления станками с ЧПУ с открытым исходным кодом~\cite{correa2016}. В их статье описывается применение компонетно-ориентированного подхода, при котором каждый компонент представлен в виде конечного автомата. Рассматривается применение многопроцессорного распределённого контроллера, а также основные алгоритмы управления с примерами реализации на платформе Arduino.

В статье авторов Атула Гупта и Вену Шриниваса (Atul Gupta и Venu Srinivasa), опубликованной в 2012 году, рассмотрены проблемы возникновения и профилактики сбоев, возникающих в ходе работы станков~\cite{gupta2012}. Работа посвящена созданию приложения для анализа и отладки критических данных оборудования, таких как скорость шпинделя, позиции осей, тип инструмента и других. В создании активно использовались возможности ЛВС для получения и обработки данных.

Ещё одна работа по созданию распределённой системы управления была представлена Рони Сапутрой (Roni Saputra) и соавторами в журнале <<Mechatronics, Electrical Power and Vehicular Technologies>> в 2014 году~\cite{saputra2014}. Она направлена на исследования в области переносного оборудования с ЧПУ и рассматривает модульную архитектуру управления. Авторы провели моделирование производительности системы и анализ, что позволило добиться высокой линейной точности и малой стоимости оборудования.

\section{Агентный подход к проектированию систем}

Наиболее интересной с точки зрения подхода к построению систем является агентная гетерархическая\footnote{Гетер\'архия -- система, образованная пересекающимися, разнообразными и одновременно сосуществующими структурами управления.} архитектура, описанная в ряде научных статей~\cite{colombo2003, zhang2014, morales2010}. Данный подход заключается в представлении системы управления в виде совокупности простых сущностей (агентов). Гетерархическая схема управления предполагает постоянное изменение поведения агентов в~соответствии с изменениями во внешней среде. Каждый агент выполняет строго поставленную задачу, оставаясь обособленным компонентом, другими словами, ему не требуется подробной информации о состоянии других агентов сети. Автономность даёт возможность легко отследить изменения в поведении агента, но при этом, поскольку агенты не могут пользоваться глобальными данными, поведение системы в целом сильно зависит от внутренних правил поведения агентов.

В результате представление о много-агентных системах (МАС) вылилось в понятие <<холонической производственной системы>>, которое было предложено в ходе проведения в 90-х гг. консорциума Интеллектуальных Производственных Систем~\cite{wang2009}. Термин <<холон>> впервые был использован Артуром Кёстлером\footnote{Кёстлер, \'Артур (Arthur K\"oestler) (1905--1983) -- британский писатель и журналист.} для объяснения биологических подсистем. В~общем смысле он означает нечто, что является чем-то целым и самодостаточным, но при этом может быть частью чего-то большего. Другими словами, это некоторая устойчивая система в рамках другой, более крупной системы. Холоны склонны к образованию устойчивых форм, самодостаточных на протяжении своего развития, однако, в таким системах сложно провести черту между <<целым>> и <<частью целого>>~(рис. \ref{fig:ghs}). Существует два основных свойства холона~\cite{dorfman2006}:

\begin{itemize}
\item[$-$] дополнительность -- способность холонов дополнять друг друга в пределах конкретной холонической системы, даже в случае разных выполняемых функций;
\item[$-$] уровневость -- наличие иерархии в системе и разделение на холоны высших и низших порядков.
\end{itemize}

\begin{figure}[t]
	\centering
	\includegraphics[width=\linewidth]{general-holons-structure.png}
	\caption{Основное представление многоуровневой холонической структуры}
	\label{fig:ghs}
\end{figure}

Основной особенностью холона является способность динамически менять свои иерархические связи и создавать новые, адаптируясь под состояния среды. Такие иерархические объединения называются \textit{холархиями} и могут содержать сколько угодно уровней вложенности. Холон может состоять одновременно в нескольких холархиях с разным уровнем в них.

В ряде научных работ, опубликованных в последние несколько лет, показано, что холархии могут служить основой для создания производственной системы с децентрализованным управлением. Одна такая система под названием ADACOR была описана Паоло Лейтао и Франсиско Рестиво (Paolo Leit\~ao и Francisco J. Restivo), которую они определили как <<адаптивную холоническую архитектуру управления для распределённых промышленных систем>>~\cite{leitao2008}.

\section{Актуальность исследовательской работы и обоснование её проведения}

Во многих странах в настоящее время исследователи уже начали применять многоагентные системы в разных областях промышленного производства, от кооперации в рамках виртуального предприятия до планирования производственного процесса и учётом ресурсов и материалов. Особое место в развитии МАС занимает проблема управления оборудованием, которая является предметной областью основной части исследований по~тематике распределённых сетей.

Поскольку холонические системы представляют собой логическое развитие многоагентных сетей, подобный подход позволяет сочетать надёжность и отказоустойчивость классических иерахических систем с гибкостью и масштабируемостью агентных сетей с децентрализованным управлением. Поэтому для реализации интеллектуальной системы для разрабатываемого компонента была выбрана холоническая архитектура.

Основным преимуществом холонической гетерархической производственной системы является то, что она не разделяет технические и программные компоненты. С точки зрения системы любой модуль или объединение модулей отвечает только за себя и управляет своей частью технологического процесса. Единственное, что необходимо для добавления в~сеть нового модуля -- его регистрация в агентной распределённой сети как интерфейса с описанием его назначения.

К сожалению, в России тема проектирования распределённых систем управления пока не так развита. Конечно, разработки российских специалистов в этом направлении уже ведутся, к примеру, платформа Winnum от инновационного центра <<Сколково>>, которая основана на концепции <<Интернета вещей>>\footnote{Интерн\'ет вещ\'ей (Intenet of Things) -- методология вычислительной сети физических предметов, оснащённых технологиями для обмена информацией между собой или с внешней средой.}, но пока что данная отрасль находится в развивающемся состоянии. Поэтому рассмотрение возможности проектирования таких систем является актуальной темой для исследований на сегодняшний день. Автор подчёркивает важность исследований в данной области, поскольку промышленность является основой экономики государства и определяет уровень его материально-технической базы.

\section{Выводы к первой главе}

\begin{enumerate}
\item В последние годы появилась тенденция к повсеместному внедрению информационных технологий и вычислительных сетей в промышленные системы с охватом всех производственных отделов. Наблюдается переосмысление парадигм производства в связи с увеличением роли информационных технологий в производственный процесс. Ведутся обширные исследования в области создания современных систем управления и, в основном, эти исследования направлена на развитие систем с модульной архитектурой.
\item Согласно результатам анализа предметной области, можно заключить, что существующие системы управления технологическим оборудованием имеют недостатки, не позволяющие внедрять эти системы при организации производственных линий на малых предприятиях, работающих по индивидуальным заказам. В числе основных проблем -- монолитная архитектура и централизованная система управления.
\item В ккачестве архитектуры системы управления наиболее интересна гетерархическая холоническая структура компонентов, поддающаяся масштабированию и динамическому изменению межкомпонентных связей.
\item Задачей текущей работы является применение холонического подхода для разработки компонента машинного зрения, являющегося частью системы управления.
\end{enumerate}